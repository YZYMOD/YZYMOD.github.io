<!DOCTYPE html>
<html lang="en">
<head>
	<base href="https://cdn.jsdelivr.net/gh/genizy/fridayfunk/">
	<meta charset="utf-8">
	
	<title>Friday Night Funkin' Vs YEEZY MOD</title>
	
	<meta id="viewport" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	
	<link rel="shortcut icon" type="image/png" href="https://cdn.jsdelivr.net/gh/genizy/fridayfunk/favicon.png">
	<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/genizy/fridayfunk/Funkin.js"></script>
	
	<script>
		window.addEventListener ("touchmove", function (event) { event.preventDefault (); }, { capture: false, passive: false });
		if (typeof window.devicePixelRatio != 'undefined' && window.devicePixelRatio > 2) {
			var meta = document.getElementById ("viewport");
			meta.setAttribute ('content', 'width=device-width, initial-scale=' + (2 / window.devicePixelRatio) + ', user-scalable=no');
		}
	</script>
	
	<style>
		html,body { margin: 0; padding: 0; height: 100%; overflow: hidden; background:black; }
		#openfl-content { background: #000000; width: 100%; height: 100%; }

		/* CUSTOM LOADER */
		#custom-loader {
			position: fixed;
			inset: 0;
			background: #000;
			z-index: 9999;
			display: flex;
			align-items: center;
			justify-content: center;
			transition: opacity 0.8s ease, visibility 0.8s ease;
		}

		#loader-bg {
			position:absolute;
			inset:0;
			background: url('./loading-YZYMOD.png') center center no-repeat;
			background-size: cover;
		}

		#loader-bar-container {
			position: absolute;
			bottom: 60px;
			width: 60%;
			height: 12px;
			background: rgba(255,255,255,0.15);
			border-radius: 30px;
			overflow: hidden;
		}

		#loader-bar {
			height: 100%;
			width: 0%;
			background: linear-gradient(90deg, #ffffff, #d0d0d0);
			transition: width 0.2s ease;
		}

		#custom-loader.hide {
			opacity: 0;
			visibility: hidden;
		}
	</style>
</head>
<body>

<noscript>This webpage makes extensive use of JavaScript. Please enable JavaScript in your web browser to view this page.</noscript>

<!-- CUSTOM LOADING SCREEN -->
<div id="custom-loader">
	<div id="loader-bg"></div>
	<div id="loader-bar-container">
		<div id="loader-bar"></div>
	</div>
</div>

<div id="openfl-content"></div>

<script>
const loader = document.getElementById('custom-loader');
const bar = document.getElementById('loader-bar');
let lastPercent = 0;

(function() {
	const original = lime.embed;
	lime.embed = function() {
		const result = original.apply(this, arguments);
		if (lime.loader && lime.loader.onProgress) {
			lime.loader.onProgress = function(loaded, total) {
				const percent = Math.floor((loaded / total) * 100);
				if (percent > lastPercent) {
					lastPercent = percent;
					bar.style.width = percent + "%";
				}
			}
		}
		return result;
	}
})();

window.addEventListener("load", () => {
	bar.style.width = "100%";
	setTimeout(() => {
		loader.classList.add('hide');
	}, 600);
});
</script>

<script type="text/javascript">
	lime.embed ("Funkin", "openfl-content", 1280, 720, { parameters: {} });
</script>

</body>
</html>
